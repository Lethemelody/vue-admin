import{p as e,k as l,u as a,e as d,f as t,q as n,m as o,o as u,r as i,j as p,g as r,t as m,y as c,h as s,w as h,i as V,s as x,G as f,F as g,z as y,v as b}from"./vendor.9bc5e80b.js";import{u as w,a as U}from"./index.ee653874.js";e("data-v-3ddaa1aa");const $={class:"btns flex"},_={class:"flex-item"},v=b("保存"),S=b("添加"),T=b("返回"),k={class:"table-content"},L={key:1,style:{"padding-left":"5px"}},E=b("删除");l();const N={props:{className:{type:String,required:!0}},emits:["backList"],setup(e,{emit:l}){const b=e,N=a();d();let D=t();const z=n(),C=n("600px"),I=o([]),K=o({entityType:[],entityInputType:[],align:[],fileType:[]});u((()=>{q(),O("entityType",(e=>{K.entityType=e})),O("entityInputType",(e=>{K.entityInputType=e})),O("align",(e=>{K.align=e})),O("fileType",(e=>{K.fileType=e})),J(),window.onresize=q}));const B=()=>{l("backList")},F=()=>{I.push({customer:!0,customerFiled:!0})},j=()=>{w.showLoadding(),U.post("/api/entity/saveList",JSON.stringify(I)).then((e=>{w.hideLoadding(),e&&200==e.status&&e.data&&888==e.data.code?w.showSuccess("保存成功！"):e.data&&e.data.message?w.showError(e.data.message):w.showError("保存失败！")})).catch((function(e){w.hideLoadding(),w.showError("保存失败！")}))},q=()=>{let e=document.getElementById("pane-"+N.currentRoute.value.path).clientHeight;C.value=e-80+"px",z.value.doLayout()},J=()=>{w.showLoadding(),U.post("/api/entityType",{owonClass:b.className}).then((e=>{w.hideLoadding(),e&&200==e.status&&e.data&&888==e.data.code?(I.splice(0,I.length),I.push(...e.data.data)):e.data.msg?w.showError(e.data.msg):w.showError("加载异常")})).catch((e=>{w.hideLoadding(),w.showError("加载异常")}))},O=(e,l)=>{let a=D.getters.listDictByKey;a&&a[e]?l&&l(D.getters.listDictByKey[e]):U.post("/api/dict/listDictByKey",JSON.stringify({key:e})).then((a=>{a&&200==a.status&&a.data&&888==a.data.code&&a.data.data?(l&&l(a.data.data),D.commit("setDict",e,a.data.data)):a.data.msg?w.showError(a.data.msg):w.showError("加载异常")})).catch((e=>{w.showError("加载异常")}))};return(l,a)=>{const d=i("el-button"),t=i("el-button-group"),n=i("el-divider"),o=i("el-input"),u=i("el-table-column"),b=i("el-option"),w=i("el-select"),U=i("el-switch"),N=i("el-table");return p(),r(f,null,[m("div",$,[m("div",_,c(e.className),1),m("div",null,[s(t,null,{default:h((()=>[s(d,{type:"primary",onClick:j,icon:"Select"},{default:h((()=>[v])),_:1}),s(d,{type:"success",onClick:F,icon:"Plus"},{default:h((()=>[S])),_:1}),s(d,{type:"warning",onClick:B,icon:"ArrowLeftBold"},{default:h((()=>[T])),_:1})])),_:1})])]),s(n),m("div",k,[s(N,{ref:(e,l)=>{l.table=e,z.value=e},data:V(I),height:C.value,border:"",style:{width:"100%","margin-top":"10px"}},{default:h((()=>[s(u,{prop:"prop",label:"属性",width:"100","header-align":"center",fixed:"left"},{default:h((e=>[V(I)[e.$index].customerFiled?(p(),x(o,{key:0,modelValue:V(I)[e.$index].prop,"onUpdate:modelValue":l=>V(I)[e.$index].prop=l,placeholder:"属性名"},null,8,["modelValue","onUpdate:modelValue"])):(p(),r("span",L,c(V(I)[e.$index].prop),1))])),_:1}),s(u,{prop:"label",label:"显示名",width:"120","header-align":"center",fixed:"left"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].label,"onUpdate:modelValue":l=>V(I)[e.$index].label=l,placeholder:"显示名"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{label:"公共配置","header-align":"center"},{default:h((()=>[s(u,{prop:"sort",label:"顺序","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].sort,"onUpdate:modelValue":l=>V(I)[e.$index].sort=l,placeholder:"顺序",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"type",label:"类型",width:"120","header-align":"center"},{default:h((e=>[s(w,{modelValue:V(I)[e.$index].type,"onUpdate:modelValue":l=>V(I)[e.$index].type=l,placeholder:"类型"},{default:h((()=>[(p(!0),r(f,null,g(V(K).entityType,((e,l)=>(p(),x(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"inputType",label:"组件类型",width:"150","header-align":"center"},{default:h((e=>[s(w,{modelValue:V(I)[e.$index].inputType,"onUpdate:modelValue":l=>V(I)[e.$index].inputType=l,placeholder:"组件类型"},{default:h((()=>[(p(!0),r(f,null,g(V(K).entityInputType,((e,l)=>(p(),x(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"format",label:"数据格式",width:"100","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].format,"onUpdate:modelValue":l=>V(I)[e.$index].format=l,placeholder:"数据格式"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"dateType",label:"时间格式",width:"100","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].dateType,"onUpdate:modelValue":l=>V(I)[e.$index].dateType=l,placeholder:"时间格式"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"url",label:"加载地址",width:"150","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].url,"onUpdate:modelValue":l=>V(I)[e.$index].url=l,placeholder:"加载地址"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"showLabelKey",label:"对象显示名",width:"100","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].showLabelKey,"onUpdate:modelValue":l=>V(I)[e.$index].showLabelKey=l,placeholder:"对象显示名"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"key",label:"字典标识",width:"100","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].key,"onUpdate:modelValue":l=>V(I)[e.$index].key=l,placeholder:"字典标识"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"multiple",label:"可多选",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].multiple,"onUpdate:modelValue":l=>V(I)[e.$index].multiple=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1}),s(u,{label:"表格配置","header-align":"center"},{default:h((()=>[s(u,{prop:"width",label:"宽度",width:"80"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].width,"onUpdate:modelValue":l=>V(I)[e.$index].width=l,placeholder:"宽度",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"show",label:"展示",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].show,"onUpdate:modelValue":l=>V(I)[e.$index].show=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"masteShow",label:"默认展示",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].masteShow,"onUpdate:modelValue":l=>V(I)[e.$index].masteShow=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"fixed",label:"固定",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].fixed,"onUpdate:modelValue":l=>V(I)[e.$index].fixed=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"customer",label:"自定义",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].customer,"onUpdate:modelValue":l=>V(I)[e.$index].customer=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"canSort",label:"可排序",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].canSort,"onUpdate:modelValue":l=>V(I)[e.$index].canSort=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"canSearch",label:"可搜索",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].canSearch,"onUpdate:modelValue":l=>V(I)[e.$index].canSearch=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"canDefaultSearch",label:"快捷搜索","header-align":"center"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].canDefaultSearch,"onUpdate:modelValue":l=>V(I)[e.$index].canDefaultSearch=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"align",label:"对其方式",width:"80","header-align":"center"},{default:h((e=>[s(w,{modelValue:V(I)[e.$index].align,"onUpdate:modelValue":l=>V(I)[e.$index].align=l,placeholder:"对其方式"},{default:h((()=>[(p(!0),r(f,null,g(V(K).align,((e,l)=>(p(),x(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1}),s(u,{label:"编辑配置","header-align":"center"},{default:h((()=>[s(u,{prop:"canEdit",label:"可编辑",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].canEdit,"onUpdate:modelValue":l=>V(I)[e.$index].canEdit=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"canNone",label:"可为空",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].canNone,"onUpdate:modelValue":l=>V(I)[e.$index].canNone=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"fileUploadUrl",label:"上传路径",width:"120","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].fileUploadUrl,"onUpdate:modelValue":l=>V(I)[e.$index].fileUploadUrl=l,placeholder:"上传路径"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"fileType",label:"类型",width:"120","header-align":"center"},{default:h((e=>[s(w,{modelValue:V(I)[e.$index].fileType,"onUpdate:modelValue":l=>V(I)[e.$index].fileType=l,placeholder:"类型"},{default:h((()=>[(p(!0),r(f,null,g(V(K).fileType,((e,l)=>(p(),x(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),s(u,{prop:"fileSize",label:"大小","header-align":"center"},{default:h((e=>[s(o,{modelValue:V(I)[e.$index].fileSize,"onUpdate:modelValue":l=>V(I)[e.$index].fileSize=l,placeholder:l.大小,type:"number"},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:1})])),_:1}),s(u,{label:"详情配置","header-align":"center"},{default:h((()=>[s(u,{prop:"viewShow",label:"展示",align:"center","header-align":"center",width:"50px"},{default:h((e=>[s(U,{modelValue:V(I)[e.$index].viewShow,"onUpdate:modelValue":l=>V(I)[e.$index].viewShow=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1}),s(u,{label:"操作",align:"center","header-align":"center",width:"50px",fixed:"right"},{default:h((e=>[V(I)[e.$index].customerFiled?(p(),x(d,{key:0,size:"small",type:"danger",onClick:l=>{return a=e.$index,void I.splice(a,1);var a}},{default:h((()=>[E])),_:2},1032,["onClick"])):y("",!0)])),_:1})])),_:1},8,["data","height"])])],64)}},__scopeId:"data-v-3ddaa1aa"};export{N as default};
