import{p as e,k as a,f as l,m as t,o as s,V as r,r as o,j as p,s as i,w as y,g as n,F as d,G as b,i as c,v as f,y as u,t as m,z as h}from"./vendor.9bc5e80b.js";import{a as k,u as w}from"./index.ee653874.js";e("data-v-735e3ca9");const g={key:0,class:"info-line-item info-textarea-item","label-class-name":"info-label"},v={class:"label"},_={class:"value"},E={key:0,href:"{{entityData[item.linkurl]}}"};a();const D={props:{entityType:{type:String,required:!0},url:{type:String,required:!0},data:{type:Object,required:!0},viewHeight:{type:Object,required:!0}},setup(e){const a=e;let D=l();const S=t([]),T=t({}),O=t([]);s((()=>{j()})),r((()=>{}));const j=()=>{k.post("/api/entityType",JSON.stringify({owonClass:a.entityType})).then((e=>{e&&200==e.status&&e.data&&888==e.data.code&&e.data.data?(S.splice(0,S.length),S.push(...e.data.data),S.forEach(((e,a)=>{if(e.viewShow){let a=!1;for(let l=0;l<O.length;l++)O[l]==e.group&&(a=!0);a||O.push(e.group)}e.viewShow&&"8"==e.type&&(S[a].dicts=[],q(e.prop,e.key))})),a.data&&a.data.id&&K()):e.data.msg?w.showError(e.data.msg):w.showError("加载异常")})).catch((e=>{w.showError("加载异常")}))},K=()=>{k.post(a.url,JSON.stringify({id:a.data.id})).then((e=>{if(e&&200==e.status&&e.data&&888==e.data.code&&e.data.data)for(const a in e.data.data)T[a]=e.data.data[a];else e.data.msg?w.showError(e.data.msg):w.showError("加载异常")})).catch((e=>{w.showError("加载异常")}))},q=(e,a)=>{let l=D.getters.listDictByKey;l&&l[a]?S.forEach(((l,t)=>{l.prop==e&&(S[t].dicts=D.getters.listDictByKey[a])})):k.post("/api/dict/listDictByKey",JSON.stringify({key:a})).then((l=>{l&&200==l.status&&l.data&&888==l.data.code&&l.data.data?(S.forEach(((a,t)=>{a.prop==e&&(S[t].dicts=l.data.data)})),D.commit("setDict",a,l.data.data)):l.data.msg?w.showError(l.data.msg):w.showError("加载异常")})).catch((e=>{w.showError("加载异常")}))};return(a,l)=>{const t=o("el-descriptions-item"),s=o("el-image"),r=o("el-descriptions"),k=o("el-scrollbar");return p(),i(k,{height:e.viewHeight,class:"view-body"},{default:y((()=>[(p(!0),n(b,null,d(c(O),((e,a)=>(p(),i(r,{key:e,class:"margin-top",title:e,column:2,border:""},{default:y((()=>[(p(!0),n(b,null,d(c(S),((a,l)=>(p(),n(b,{key:a.prop},[a.viewShow&&a.group==e?(p(),n(b,{key:0},["1"==a.type||"2"==a.type?(p(),i(t,{key:0,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[f(u(c(T)[a.prop]),1)])),_:2},1032,["label"])):"3"==a.type?(p(),n(b,{key:1},["2"==a.inputType?(p(),n("div",g,[m("div",v,u(a.label)+"：",1),m("div",_,u(c(T)[a.prop]),1)])):h("",!0),"2"==a.inputType?(p(),i(t,{key:1,width:"100%",label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[f("> "+u(c(T)[a.prop]),1)])),_:2},1032,["label"])):"3"==a.inputType?(p(),i(t,{key:2,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[f(u(c(T)[a.prop]),1)])),_:2},1032,["label"])):"4"==a.inputType?(p(),i(t,{key:3,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[f(u(c(T)[a.prop]),1)])),_:2},1032,["label"])):(p(),i(t,{key:4,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[f(u(c(T)[a.prop]),1)])),_:2},1032,["label"]))],64)):"4"==a.type?(p(),i(t,{key:2,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[c(T)[a.prop]?(p(),n(b,{key:0},[a.format?(p(),n(b,{key:0},[f(u(new Date(c(T)[a.prop]).format(a.format)),1)],64)):(p(),n(b,{key:1},[f(u(new Date(c(T)[a.prop]).format("yyyy-MM-DD hh:mm:ss")),1)],64))],64)):h("",!0)])),_:2},1032,["label"])):"5"==a.type?(p(),i(t,{key:3,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[a.multiple?(p(),n(b,{key:0},[c(T)[a.prop]?(p(!0),n(b,{key:0},d(c(T)[a.prop],((e,l)=>(p(),n(b,null,[f(u(e?e[a.showLabelKey]:JSON.stringify(e))+"; ",1)],64)))),256)):h("",!0)],64)):(p(),n(b,{key:1},[c(T)[a.prop]?(p(),n(b,{key:0},[f(u(c(T)[a.prop][a.showLabelKey]),1)],64)):h("",!0)],64))])),_:2},1032,["label"])):"6"==a.type?(p(),i(t,{key:4,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[c(T)[a.prop]?(p(),n("a",E,u(c(T)[a.prop]),1)):h("",!0)])),_:2},1032,["label"])):"7"==a.type?(p(),i(t,{key:5,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[c(T)[a.prop]?(p(),i(s,{key:0,class:"view-image",src:c(T)[a.prop],"preview-src-list":[c(T)[a.prop]],"initial-index":0,fit:"cover"},null,8,["src","preview-src-list"])):h("",!0)])),_:2},1032,["label"])):"8"==a.type?(p(),i(t,{key:6,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[a.multiple?(p(),n(b,{key:0},[c(T)[a.prop]?(p(!0),n(b,{key:0},d(c(T)[a.prop],((e,l)=>(p(),n(b,null,[(p(!0),n(b,null,d(a.dicts,((a,l)=>(p(),n(b,{key:a.value},[e==a.value?(p(),n(b,{key:0},[f(u(a.label),1)],64)):h("",!0)],64)))),128))],64)))),256)):h("",!0)],64)):(p(!0),n(b,{key:1},d(a.dicts,((e,l)=>(p(),n(b,{key:e.value},[c(T)[a.prop]==e.value?(p(),n(b,{key:0},[f(u(e.label),1)],64)):h("",!0)],64)))),128))])),_:2},1032,["label"])):"9"==a.type?(p(),i(t,{key:7,label:a.label+"：","label-class-name":"info-label"},{default:y((()=>[c(T)[a.prop]?(p(),n(b,{key:0},[a.format?(p(),n(b,{key:0},[f(u(new Date(c(T)[a.prop]).format(a.format)),1)],64)):(p(),n(b,{key:1},[f(u(new Date(c(T)[a.prop]).format("hh:mm:ss")),1)],64))],64)):h("",!0)])),_:2},1032,["label"])):h("",!0)],64)):h("",!0)],64)))),128))])),_:2},1032,["title"])))),128))])),_:1},8,["height"])}},__scopeId:"data-v-735e3ca9"};export{D as _};
